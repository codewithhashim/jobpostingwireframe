<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Kandidaten – Triple Match</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-gray-100 p-6 text-sm text-gray-800">
    <div class="mx-auto max-w-6xl bg-white shadow border">
      <!-- header ---------------------------------------------------- -->
      <div class="border-b p-6">
        <a href="/admin/jobs" class="text-blue-600">&larr; Terug naar vacatures</a>
        <h1 class="mt-4 text-2xl font-semibold">
          Project Director – Gemeente Amsterdam
        </h1>

        <div class="mt-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
          <div><span class="font-medium">Organisatie:</span> Gemeente Amsterdam</div>
          <div><span class="font-medium">Locatie:</span> Noord-Holland</div>
          <div>
            <span class="font-medium">Contracttype:</span> Freelance / Detachering
          </div>
          <div><span class="font-medium">Duur vacature:</span> 6 maanden</div>
          <div><span class="font-medium">Beschrijving:</span> Leidt complexe
            stedelijke projecten …</div>
        </div>
      </div>

      <!-- stats ------------------------------------------------------ -->
      <div class="flex flex-wrap gap-8 border-b bg-sky-50 p-6 text-center">
        <div><span class="block text-xl font-bold">24</span>Totaal</div>
        <div><span class="block text-xl font-bold">8</span>Nieuw</div>
        <div><span class="block text-xl font-bold">12</span>Bekeken</div>
        <div><span class="block text-xl font-bold">3</span>Shortlist</div>
        <div><span class="block text-xl font-bold">1</span>Afgewezen</div>
      </div>

      <!-- bulk actions ---------------------------------------------- -->
      <div
        class="flex flex-wrap items-center justify-between gap-4 border-b p-4"
      >
        <div class="flex items-center gap-2">
          <input id="all" type="checkbox" class="h-4 w-4" />
          <label for="all">Alles selecteren</label>

          <select
            id="bulk"
            class="border px-2 py-1 text-sm focus:outline-none"
          >
            <option value="reviewed">Markeer als bekeken</option>
            <option value="shortlist">Zet op shortlist</option>
            <option value="reject">Weiger</option>
          </select>

          <button
            id="do-bulk"
            class="rounded border bg-gray-200 px-3 py-1 hover:bg-gray-300"
          >
            Uitvoeren
          </button>
        </div>

        <button
          class="rounded border bg-gray-200 px-3 py-1 hover:bg-gray-300"
          onclick="alert('ZIP-download komt hier')"
        >
          Download alle CV’s (.zip)
        </button>
      </div>

      <!-- table ------------------------------------------------------ -->
      <div class="overflow-x-auto">
        <table
          id="tbl"
          class="min-w-full border-collapse text-left [&_th]:bg-gray-50"
        >
          <thead>
            <tr class="border-b">
              <th class="w-8 p-3"></th>
              <th class="p-3">Naam</th>
              <th class="p-3">Contact</th>
              <th class="p-3">CV</th>
              <th class="p-3">Ingediend</th>
              <th class="p-3">Status</th>
              <th class="w-60 p-3">Acties</th>
            </tr>
          </thead>

          <tbody>
            <!-- row 1 -->
            <tr
              data-id="1"
              class="border-b even:bg-gray-50"
            >
              <td class="p-3">
                <input type="checkbox" />
              </td>
              <td class="p-3 flex items-center gap-2">
                <span
                  class="flex h-8 w-8 items-center justify-center rounded border font-medium"
                  >JD</span
                >John Doe
              </td>
              <td class="p-3">
                john.doe@email.com<br />+31 6 12345678
              </td>
              <td class="p-3">
                <a href="#" class="text-blue-600 hover:underline">jd_cv.pdf</a>
              </td>
              <td class="p-3 whitespace-nowrap">15-06-2025 14:30</td>
              <td class="p-3">Nieuw</td>
              <td class="p-3">
                <div class="flex gap-2">
                  <button
                    class="rounded bg-green-600 px-3 py-1 text-white"
                    data-action="shortlist"
                  >
                    Shortlist
                  </button>
                  <button
                    class="rounded bg-red-600 px-3 py-1 text-white"
                    data-action="reject"
                  >
                    Weiger
                  </button>
                  <button
                    class="rounded border px-3 py-1"
                    data-action="reviewed"
                  >
                    Bekeken
                  </button>
                </div>
              </td>
            </tr>

            <!-- row 2 (already shortlisted) -->
            <tr data-id="2" class="border-b even:bg-gray-50">
              <td class="p-3"><input type="checkbox" /></td>
              <td class="p-3 flex items-center gap-2">
                <span
                  class="flex h-8 w-8 items-center justify-center rounded border font-medium"
                  >MS</span
                >Maria Smith
              </td>
              <td class="p-3">
                maria.smith@email.com<br />+31 6 98765432
              </td>
              <td class="p-3">
                <a href="#" class="text-blue-600 hover:underline"
                  >maria_cv.docx</a
                >
              </td>
              <td class="p-3 whitespace-nowrap">14-06-2025 09:15</td>
              <td class="p-3">Shortlist</td>
              <td class="p-3">
                <div class="flex gap-2">
                  <button
                    class="rounded border px-3 py-1"
                    data-action="remove"
                  >
                    Verwijder
                  </button>
                  <button
                    class="rounded bg-red-600 px-3 py-1 text-white"
                    data-action="reject"
                  >
                    Weiger
                  </button>
                  <button
                    class="rounded border px-3 py-1"
                    data-action="reviewed"
                  >
                    Bekeken
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- pagination ------------------------------------------------- -->
      <div class="flex justify-center gap-2 border-t p-6 print:hidden">
        <a href="#" class="rounded border px-3 py-1">&larr; Vorige</a>
        <a href="#" class="rounded border bg-gray-800 px-3 py-1 text-white"
          >1</a
        >
        <a href="#" class="rounded border px-3 py-1">2</a>
        <a href="#" class="rounded border px-3 py-1">Volgende &rarr;</a>
      </div>
    </div>

    <script>
      const tbl = document.getElementById("tbl");

      tbl.onclick = (e) => {
        const btn = e.target.closest("button[data-action]");
        if (!btn) return;
        const tr = btn.closest("tr");
        const st = tr.children[5]; // status cell

        switch (btn.dataset.action) {
          case "shortlist":
            st.textContent = "Shortlist";
            setActions(tr, true);
            break;
          case "remove":
            st.textContent = "Bekeken";
            setActions(tr, false);
            break;
          case "reject":
            st.textContent = "Afgewezen";
            break;
          case "reviewed":
            st.textContent = "Bekeken";
            break;
        }
      };

      function setActions(row, isShort) {
        const cell = row.children[6];
        cell.innerHTML = isShort
          ? `<div class="flex gap-2">
               <button class="rounded border px-3 py-1" data-action="remove">
                 Verwijder
               </button>
               <button class="rounded bg-red-600 px-3 py-1 text-white"
                       data-action="reject">
                 Weiger
               </button>
               <button class="rounded border px-3 py-1" data-action="reviewed">
                 Bekeken
               </button>
             </div>`
          : `<div class="flex gap-2">
               <button class="rounded bg-green-600 px-3 py-1 text-white"
                       data-action="shortlist">
                 Shortlist
               </button>
               <button class="rounded bg-red-600 px-3 py-1 text-white"
                       data-action="reject">
                 Weiger
               </button>
               <button class="rounded border px-3 py-1" data-action="reviewed">
                 Bekeken
               </button>
             </div>`;
      }

      // select-all
      document.getElementById("all").onchange = (e) =>
        tbl
          .querySelectorAll('tbody input[type="checkbox"]')
          .forEach((c) => (c.checked = e.target.checked));

      // bulk
      document.getElementById("do-bulk").onclick = () => {
        const act = document.getElementById("bulk").value;
        tbl.querySelectorAll('tbody input[type="checkbox"]:checked').forEach(
          (c) => {
            const tr = c.closest("tr");
            const st = tr.children[5];
            if (act === "reject") st.textContent = "Afgewezen";
            if (act === "shortlist") {
              st.textContent = "Shortlist";
              setActions(tr, true);
            }
            if (act === "reviewed") st.textContent = "Bekeken";
          }
        );
      };
    </script>
  </body>
</html>